{"uid":"1a1ca723761c9ad5","name":"Изменить сотрудника компании с некорректным id","fullName":"test_x_clients_employee.TestEmployee#test_patch_employee_wrong_id","historyId":"de79618b374abd118dff88a8d1e2b478","time":{"start":1716128184987,"stop":1716128188158,"duration":3171},"status":"skipped","statusMessage":"XFAIL ФР: 500, ОР: 404\n\nAssertionError: assert 500 == 404","statusTrace":"self = <test_x_clients_employee.TestEmployee object at 0x105ff7cd0>\n\n    @pytest.mark.xfail(reason=\"ФР: 500, ОР: 404\")\n    @allure.story(\"negative.редактировать сотрудника/сотрудников\")\n    @allure.story(\"negative.редактировать сотрудника/сотрудников\")\n    @allure.title(\"Изменить сотрудника компании с некорректным id\")\n    @allure.description(\"\")\n    @allure.severity(\"Major\")\n    def test_patch_employee_wrong_id(self):\n        # создать новую компанию\n        db_com.create_company(com_name, com_desc)\n        company_id = db_com.get_max_id()\n    \n        # создать нового сотрудника\n        new_creds_emp = generate_creds()\n        db_emp.create_employee(company_id, is_active, new_creds_emp)\n        list_id_new_emp = db_emp.get_list_emps_by_id_company(company_id)\n        id_new_emp = list_id_new_emp[0][0]\n    \n        wrong_emp_id = id_new_emp + 1000\n    \n        result = emp.change_info_employee_wrong_id(wrong_emp_id)\n    \n        with allure.step(\"Проверить статус-код ответа\"):\n>           assert result[\"statusCode\"] == 404\nE           assert 500 == 404\n\ntest_x_clients_employee.py:454: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1716128084185,"stop":1716128084278,"duration":93},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"skipped","statusMessage":"XFAIL ФР: 500, ОР: 404\n\nAssertionError: assert 500 == 404","statusTrace":"self = <test_x_clients_employee.TestEmployee object at 0x105ff7cd0>\n\n    @pytest.mark.xfail(reason=\"ФР: 500, ОР: 404\")\n    @allure.story(\"negative.редактировать сотрудника/сотрудников\")\n    @allure.story(\"negative.редактировать сотрудника/сотрудников\")\n    @allure.title(\"Изменить сотрудника компании с некорректным id\")\n    @allure.description(\"\")\n    @allure.severity(\"Major\")\n    def test_patch_employee_wrong_id(self):\n        # создать новую компанию\n        db_com.create_company(com_name, com_desc)\n        company_id = db_com.get_max_id()\n    \n        # создать нового сотрудника\n        new_creds_emp = generate_creds()\n        db_emp.create_employee(company_id, is_active, new_creds_emp)\n        list_id_new_emp = db_emp.get_list_emps_by_id_company(company_id)\n        id_new_emp = list_id_new_emp[0][0]\n    \n        wrong_emp_id = id_new_emp + 1000\n    \n        result = emp.change_info_employee_wrong_id(wrong_emp_id)\n    \n        with allure.step(\"Проверить статус-код ответа\"):\n>           assert result[\"statusCode\"] == 404\nE           assert 500 == 404\n\ntest_x_clients_employee.py:454: AssertionError","steps":[{"name":"db.Создать новую компанию","time":{"start":1716128184987,"stop":1716128185604,"duration":617},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"name","value":"'8_ОАО «Рябов Савельев»'"},{"name":"desc","value":"'Прогрессивная и переходная сеть Экстранет'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"db.создать нового сотрудника компании 2383","time":{"start":1716128186167,"stop":1716128186728,"duration":561},"status":"passed","steps":[],"attachments":[{"uid":"ce79e0ef2c61e5cc","name":"SQL","source":"ce79e0ef2c61e5cc.txt","type":"text/plain","size":395}],"parameters":[{"name":"com_id","value":"2383"},{"name":"is_active","value":"True"},{"name":"dict_creds_emp","value":"{'first_name': 'Вадим', 'last_name': 'Нестеров', 'email': 'knoskova@example.net', 'middle_name': 'Силантий', 'is_active': True, 'phone': 20391512003, 'birthdate': '1976-10-14', 'url': 'http://yunilever.edu/'}"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"db.получить список сотрудников по id компании 2383","time":{"start":1716128186728,"stop":1716128187288,"duration":560},"status":"passed","steps":[],"attachments":[{"uid":"d165f373978234ae","name":"SQL","source":"d165f373978234ae.txt","type":"text/plain","size":60}],"parameters":[{"name":"com_id","value":"2383"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"api.изменить информацию о сотруднике с несущест. id","time":{"start":1716128187289,"stop":1716128188156,"duration":867},"status":"passed","steps":[{"name":"api.получить токен авторизации","time":{"start":1716128187289,"stop":1716128187711,"duration":422},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"user","value":"'bloom'"},{"name":"password","value":"'fire-fairy'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"emp_id","value":"2675"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Проверить статус-код ответа","time":{"start":1716128188156,"stop":1716128188157,"duration":1},"status":"failed","statusMessage":"AssertionError: assert 500 == 404\n","statusTrace":"  File \"/Users/kozma/Documents/practice/skyproPython/skypro_python_homeworks/lesson10/test_x_clients_employee.py\", line 454, in test_patch_employee_wrong_id\n    assert result[\"statusCode\"] == 404\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":6,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},"afterStages":[],"labels":[{"name":"epic","value":"hw9"},{"name":"story","value":"negative.редактировать сотрудника/сотрудников"},{"name":"severity","value":"Major"},{"name":"feature","value":"сотрудник компании"},{"name":"tag","value":"@pytest.mark.xfail(reason='ФР: 500, ОР: 404')"},{"name":"suite","value":"test_x_clients_employee"},{"name":"subSuite","value":"TestEmployee"},{"name":"host","value":"MacBook-Air-kozma.local"},{"name":"thread","value":"50061-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"test_x_clients_employee"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":0,"broken":0,"skipped":13,"passed":0,"unknown":0,"total":13},"items":[{"uid":"d7359afbb734d04d","status":"skipped","statusDetails":"XFAIL ФР: 500, ОР: 404\n\nAssertionError: assert 500 == 404","time":{"start":1716124730967,"stop":1716124734077,"duration":3110}},{"uid":"726d1e5d3459f406","status":"skipped","statusDetails":"XFAIL ФР: 500, ОР: 404\n\nAssertionError: assert 500 == 404","time":{"start":1716123177029,"stop":1716123180215,"duration":3186}},{"uid":"a111064fb64f19e2","status":"skipped","statusDetails":"XFAIL ФР: 500, ОР: 404\n\nAssertionError: assert 500 == 404","time":{"start":1716121183878,"stop":1716121187048,"duration":3170}},{"uid":"1db37a266904a7b2","status":"skipped","statusDetails":"XFAIL ФР: 500, ОР: 404\n\nAssertionError: assert 500 == 404","time":{"start":1716117577515,"stop":1716117580645,"duration":3130}},{"uid":"4734baf86106e8b1","status":"skipped","statusDetails":"XFAIL ФР: 500, ОР: 404\n\nAssertionError: assert 500 == 404","time":{"start":1716114688632,"stop":1716114691954,"duration":3322}},{"uid":"6c50953879e0687e","status":"skipped","statusDetails":"XFAIL ФР: 500, ОР: 404\n\nAssertionError: assert 500 == 404","time":{"start":1716112133330,"stop":1716112136486,"duration":3156}},{"uid":"17cd25a43417a56d","status":"skipped","statusDetails":"XFAIL ФР: 500, ОР: 404\n\nAssertionError: assert 500 == 404","time":{"start":1716110343057,"stop":1716110346512,"duration":3455}},{"uid":"80e3d82d73b2f7d1","status":"skipped","statusDetails":"XFAIL ФР: 500, ОР: 404\n\nAssertionError: assert 500 == 404","time":{"start":1716024560030,"stop":1716024563240,"duration":3210}},{"uid":"565631dab05f4ffa","status":"skipped","statusDetails":"XFAIL ФР: 500, ОР: 404\n\nAssertionError: assert 500 == 404","time":{"start":1715853765567,"stop":1715853769345,"duration":3778}},{"uid":"623cc87d347cc309","status":"skipped","statusDetails":"XFAIL ФР: 500, ОР: 404\n\nAssertionError: assert 500 == 404","time":{"start":1715805694311,"stop":1715805699361,"duration":5050}},{"uid":"7489344bb512eb86","status":"skipped","statusDetails":"XFAIL ФР: 500, ОР: 404\n\nAssertionError: assert 500 == 404","time":{"start":1715803650890,"stop":1715803655069,"duration":4179}},{"uid":"b09d6786661ee965","status":"skipped","statusDetails":"XFAIL ФР: 500, ОР: 404\n\nTypeError: EmployeeTable.patch_employee() missing 1 required positional argument: 'dict_creds_emp'","time":{"start":1715802174194,"stop":1715802177462,"duration":3268}}]},"tags":["@pytest.mark.xfail(reason='ФР: 500, ОР: 404')"]},"source":"1a1ca723761c9ad5.json","parameterValues":[]}