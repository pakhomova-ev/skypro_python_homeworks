{"uid":"afa286749fbd6be7","name":"Изменить сотрудника компании без тела запроса","fullName":"test_x_clients_employee.TestEmployee#test_patch_employee_without_body","historyId":"5ab8a8f5a795d2e48189c58ecd61968a","time":{"start":1716128181711,"stop":1716128184891,"duration":3180},"status":"skipped","statusMessage":"XFAIL без тела запроса возвращается информация по пользователю\n\nKeyError: 'statusCode'","statusTrace":"self = <test_x_clients_employee.TestEmployee object at 0x105ff7710>\n\n    @pytest.mark.xfail(reason=\"без тела запроса возвращается информация по пользователю\")\n    @allure.story(\"negative.редактировать сотрудника/сотрудников\")\n    @allure.title(\"Изменить сотрудника компании без тела запроса\")\n    @allure.description(\"\")\n    @allure.severity(\"Major\")\n    def test_patch_employee_without_body(self):\n        # создать новую компанию\n        db_com.create_company(com_name, com_desc)\n        company_id = db_com.get_max_id()\n    \n        # создать нового сотрудника\n        new_creds_emp = generate_creds()\n        db_emp.create_employee(company_id, is_active, new_creds_emp)\n        list_id_new_emp = db_emp.get_list_emps_by_id_company(company_id)\n        id_new_emp = list_id_new_emp[0][0]\n    \n        result = emp.change_info_employee_without_body(\n            id_new_emp)\n    \n        with allure.step(\"Проверить статус-код ответа\"):\n>           assert result[\"statusCode\"] == 404\nE           KeyError: 'statusCode'\n\ntest_x_clients_employee.py:424: KeyError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1716128084185,"stop":1716128084278,"duration":93},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"skipped","statusMessage":"XFAIL без тела запроса возвращается информация по пользователю\n\nKeyError: 'statusCode'","statusTrace":"self = <test_x_clients_employee.TestEmployee object at 0x105ff7710>\n\n    @pytest.mark.xfail(reason=\"без тела запроса возвращается информация по пользователю\")\n    @allure.story(\"negative.редактировать сотрудника/сотрудников\")\n    @allure.title(\"Изменить сотрудника компании без тела запроса\")\n    @allure.description(\"\")\n    @allure.severity(\"Major\")\n    def test_patch_employee_without_body(self):\n        # создать новую компанию\n        db_com.create_company(com_name, com_desc)\n        company_id = db_com.get_max_id()\n    \n        # создать нового сотрудника\n        new_creds_emp = generate_creds()\n        db_emp.create_employee(company_id, is_active, new_creds_emp)\n        list_id_new_emp = db_emp.get_list_emps_by_id_company(company_id)\n        id_new_emp = list_id_new_emp[0][0]\n    \n        result = emp.change_info_employee_without_body(\n            id_new_emp)\n    \n        with allure.step(\"Проверить статус-код ответа\"):\n>           assert result[\"statusCode\"] == 404\nE           KeyError: 'statusCode'\n\ntest_x_clients_employee.py:424: KeyError","steps":[{"name":"db.Создать новую компанию","time":{"start":1716128181712,"stop":1716128182296,"duration":584},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"name","value":"'8_ОАО «Рябов Савельев»'"},{"name":"desc","value":"'Прогрессивная и переходная сеть Экстранет'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"db.создать нового сотрудника компании 2382","time":{"start":1716128182859,"stop":1716128183425,"duration":566},"status":"passed","steps":[],"attachments":[{"uid":"d421acb21d1311d3","name":"SQL","source":"d421acb21d1311d3.txt","type":"text/plain","size":405}],"parameters":[{"name":"com_id","value":"2382"},{"name":"is_active","value":"True"},{"name":"dict_creds_emp","value":"{'first_name': 'Глеб', 'last_name': 'Колесникова', 'email': 'terentiorlov@example.net', 'middle_name': 'Серафим', 'is_active': True, 'phone': 70966475273, 'birthdate': '1976-11-10', 'url': 'http://www.ooo.org/'}"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"db.получить список сотрудников по id компании 2382","time":{"start":1716128183425,"stop":1716128183991,"duration":566},"status":"passed","steps":[],"attachments":[{"uid":"effa66bfc4a76e1b","name":"SQL","source":"effa66bfc4a76e1b.txt","type":"text/plain","size":60}],"parameters":[{"name":"com_id","value":"2382"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"api.изменить информацию о сотруднике без тела запроса","time":{"start":1716128183991,"stop":1716128184886,"duration":895},"status":"passed","steps":[{"name":"api.получить токен авторизации","time":{"start":1716128183992,"stop":1716128184409,"duration":417},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"user","value":"'bloom'"},{"name":"password","value":"'fire-fairy'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"emp_id","value":"1674"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Проверить статус-код ответа","time":{"start":1716128184886,"stop":1716128184886,"duration":0},"status":"broken","statusMessage":"KeyError: 'statusCode'\n","statusTrace":"  File \"/Users/kozma/Documents/practice/skyproPython/skypro_python_homeworks/lesson10/test_x_clients_employee.py\", line 424, in test_patch_employee_without_body\n    assert result[\"statusCode\"] == 404\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":6,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},"afterStages":[],"labels":[{"name":"epic","value":"hw9"},{"name":"story","value":"negative.редактировать сотрудника/сотрудников"},{"name":"severity","value":"Major"},{"name":"feature","value":"сотрудник компании"},{"name":"tag","value":"@pytest.mark.xfail(reason='без тела запроса возвращается информация по пользователю')"},{"name":"suite","value":"test_x_clients_employee"},{"name":"subSuite","value":"TestEmployee"},{"name":"host","value":"MacBook-Air-kozma.local"},{"name":"thread","value":"50061-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"test_x_clients_employee"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":0,"broken":0,"skipped":13,"passed":0,"unknown":0,"total":13},"items":[{"uid":"f0eb2e6d3cfff7ff","status":"skipped","statusDetails":"XFAIL без тела запроса возвращается информация по пользователю\n\nKeyError: 'statusCode'","time":{"start":1716124727514,"stop":1716124730873,"duration":3359}},{"uid":"8ba5472dc9a47165","status":"skipped","statusDetails":"XFAIL без тела запроса возвращается информация по пользователю\n\nKeyError: 'statusCode'","time":{"start":1716123173753,"stop":1716123176931,"duration":3178}},{"uid":"713cb740e9d671b6","status":"skipped","statusDetails":"XFAIL без тела запроса возвращается информация по пользователю\n\nKeyError: 'statusCode'","time":{"start":1716121180630,"stop":1716121183779,"duration":3149}},{"uid":"770e3e831afd4893","status":"skipped","statusDetails":"XFAIL без тела запроса возвращается информация по пользователю\n\nKeyError: 'statusCode'","time":{"start":1716117574061,"stop":1716117577399,"duration":3338}},{"uid":"cf22c47c4c210501","status":"skipped","statusDetails":"XFAIL без тела запроса возвращается информация по пользователю\n\nKeyError: 'statusCode'","time":{"start":1716114685534,"stop":1716114688616,"duration":3082}},{"uid":"4d1c4d602c8bf4c3","status":"skipped","statusDetails":"XFAIL без тела запроса возвращается информация по пользователю\n\nKeyError: 'statusCode'","time":{"start":1716112130138,"stop":1716112133317,"duration":3179}},{"uid":"93cd54e32094eeea","status":"skipped","statusDetails":"XFAIL без тела запроса возвращается информация по пользователю\n\nKeyError: 'statusCode'","time":{"start":1716110339475,"stop":1716110343040,"duration":3565}},{"uid":"56b9fc8a9087b5c2","status":"skipped","statusDetails":"XFAIL без тела запроса возвращается информация по пользователю\n\nKeyError: 'statusCode'","time":{"start":1716024556534,"stop":1716024560016,"duration":3482}},{"uid":"420817bbda8d221a","status":"skipped","statusDetails":"XFAIL без тела запроса возвращается информация по пользователю\n\nKeyError: 'statusCode'","time":{"start":1715853761866,"stop":1715853765541,"duration":3675}},{"uid":"a4bc79b5cf5f3b11","status":"skipped","statusDetails":"XFAIL без тела запроса возвращается информация по пользователю\n\nKeyError: 'statusCode'","time":{"start":1715805689877,"stop":1715805694291,"duration":4414}},{"uid":"768cc31babbea629","status":"skipped","statusDetails":"XFAIL без тела возвращается информация по пользователю\n\nKeyError: 'statusCode'","time":{"start":1715803646868,"stop":1715803650877,"duration":4009}},{"uid":"c7d12261c52f411e","status":"skipped","statusDetails":"XFAIL без тела возвращается информация по пользователю\n\nKeyError: 'statusCode'","time":{"start":1715802169863,"stop":1715802174178,"duration":4315}}]},"tags":["@pytest.mark.xfail(reason='без тела запроса возвращается информация по пользователю')"]},"source":"afa286749fbd6be7.json","parameterValues":[]}